[gd_scene load_steps=28 format=4 uid="uid://b8hbjfvxnb4wq"]

[ext_resource type="Script" uid="uid://dpeiskorxqkak" path="res://game/game.gd" id="1_hb504"]
[ext_resource type="LabelSettings" uid="uid://c0vd5bbx35cax" path="res://theme/labels/body.tres" id="1_vasa2"]
[ext_resource type="Script" uid="uid://c2futd6erilxg" path="res://game/ui/ui.gd" id="2_ee6o4"]
[ext_resource type="LabelSettings" uid="uid://cbiksthdgq5sp" path="res://theme/labels/h1.tres" id="2_h7iqs"]
[ext_resource type="Resource" uid="uid://cyineik2li2yf" path="res://game/world/biomes/cave/cave_data.tres" id="2_u8s88"]
[ext_resource type="Script" uid="uid://pjqowosrwu0j" path="res://game/ui/main_menu/main_menu_screen.gd" id="3_4cobl"]
[ext_resource type="Resource" uid="uid://cixf5k8annsdh" path="res://game/world/biomes/cave/cave_visuals.tres" id="3_dxwpq"]
[ext_resource type="Script" uid="uid://cc5l16atu2cl3" path="res://game/world/world_generator/terrain_renderer.gd" id="3_j8tme"]
[ext_resource type="Script" uid="uid://cs6pm4nixudgl" path="res://characters/ground_mover.gd" id="4_dxrkv"]
[ext_resource type="Script" uid="uid://dufydpph45sn7" path="res://characters/input_controller/player.gd" id="4_y36n6"]
[ext_resource type="Script" uid="uid://b0fbpt3lbgtje" path="res://characters/gravity.gd" id="5_dxrkv"]
[ext_resource type="Script" uid="uid://df83tgk3w70up" path="res://characters/jumper.gd" id="6_dakft"]
[ext_resource type="Script" uid="uid://fakratwk737w" path="res://game/world/world_root.gd" id="6_ln7ps"]
[ext_resource type="Texture2D" uid="uid://bdgxhhec4ydqt" path="res://textures/terrain/biome_sheet.png" id="7_vsp63"]
[ext_resource type="Script" uid="uid://c805gsjhqitk" path="res://game/world/world_generator/terrain_element.gd" id="8_dxwpq"]
[ext_resource type="Script" uid="uid://boc4vsfmxlpca" path="res://characters/health.gd" id="8_l8g03"]
[ext_resource type="PackedScene" uid="uid://cbqb74u3yrwp8" path="res://characters/crawler/crawler.tscn" id="9_l8g03"]
[ext_resource type="FastNoiseLite" uid="uid://depbt3v0j0uvy" path="res://game/world/biomes/noise_maps/common_mat.tres" id="12_8bboj"]
[ext_resource type="FastNoiseLite" uid="uid://bjypp1p6oy84i" path="res://game/world/biomes/noise_maps/uncommon_mat.tres" id="13_q52ks"]
[ext_resource type="FastNoiseLite" uid="uid://c4rmd3km6bwli" path="res://game/world/biomes/noise_maps/rare_mat.tres" id="14_jucfl"]

[sub_resource type="Resource" id="Resource_pvdu1"]
script = ExtResource("8_dxwpq")
id = "coal"
type = 2
map = ExtResource("12_8bboj")
threshold = 0.505
metadata/_custom_type_script = "uid://c805gsjhqitk"

[sub_resource type="Resource" id="Resource_cf130"]
script = ExtResource("8_dxwpq")
id = "iron"
type = 2
atlas_coords = Vector2i(1, 0)
map = ExtResource("13_q52ks")
metadata/_custom_type_script = "uid://c805gsjhqitk"

[sub_resource type="Resource" id="Resource_posua"]
script = ExtResource("8_dxwpq")
id = "gold"
type = 2
atlas_coords = Vector2i(2, 0)
map = ExtResource("14_jucfl")
threshold = 0.6
metadata/_custom_type_script = "uid://c805gsjhqitk"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_b686c"]
texture = ExtResource("7_vsp63")
texture_region_size = Vector2i(8, 8)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
2:1/0 = 0
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
2:2/0 = 0
3:2/0 = 0
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
2:3/0 = 0
3:3/0 = 0
0:4/0 = 0
0:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
1:4/0 = 0
1:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
2:4/0 = 0
3:4/0 = 0
0:5/0 = 0
0:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
1:5/0 = 0
1:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
2:5/0 = 0
3:5/0 = 0

[sub_resource type="TileSet" id="TileSet_u5opy"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_b686c")

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_y36n6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_j8tme"]
size = Vector2(6, 7)

[node name="Game" type="Node"]
script = ExtResource("1_hb504")
world_size = 32
default_biome_data = ExtResource("2_u8s88")
default_biome_visuals = ExtResource("3_dxwpq")

[node name="UI" type="CanvasLayer" parent="."]
unique_name_in_owner = true
script = ExtResource("2_ee6o4")

[node name="MainMenuScreen" type="Control" parent="UI"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_4cobl")

[node name="ColorRect" type="ColorRect" parent="UI/MainMenuScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.22143, 0.206403, 0.187808, 1)

[node name="HBoxContainer" type="HBoxContainer" parent="UI/MainMenuScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Pading" type="Control" parent="UI/MainMenuScreen/HBoxContainer"]
custom_minimum_size = Vector2(50, 0)
layout_mode = 2

[node name="Control2" type="Control" parent="UI/MainMenuScreen/HBoxContainer"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="UI/MainMenuScreen/HBoxContainer/Control2"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -324.0
offset_right = 111.0
offset_bottom = 324.0
grow_vertical = 2
alignment = 1

[node name="StartGameButton" type="Button" parent="UI/MainMenuScreen/HBoxContainer/Control2/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "PLAY"

[node name="Label2" type="Label" parent="UI/MainMenuScreen/HBoxContainer/Control2/VBoxContainer"]
layout_mode = 2
text = "SETTINGS"
label_settings = ExtResource("1_vasa2")

[node name="Label3" type="Label" parent="UI/MainMenuScreen/HBoxContainer/Control2/VBoxContainer"]
layout_mode = 2
text = "CREDITS"
label_settings = ExtResource("1_vasa2")

[node name="Label4" type="Label" parent="UI/MainMenuScreen/HBoxContainer/Control2/VBoxContainer"]
layout_mode = 2
text = "QUIT"
label_settings = ExtResource("1_vasa2")

[node name="Label" type="Label" parent="UI/MainMenuScreen/HBoxContainer/Control2"]
layout_mode = 1
offset_right = 117.0
offset_bottom = 141.0
text = "MUST
go
DEEPER"
label_settings = ExtResource("2_h7iqs")
horizontal_alignment = 1

[node name="WorldRoot" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("6_ln7ps")

[node name="TerrainRenderer" type="Node2D" parent="WorldRoot"]
unique_name_in_owner = true
script = ExtResource("3_j8tme")
common_mat = SubResource("Resource_pvdu1")
uncommon_mat = SubResource("Resource_cf130")
rare_mat = SubResource("Resource_posua")

[node name="BGLayer" type="TileMapLayer" parent="WorldRoot/TerrainRenderer"]
unique_name_in_owner = true
tile_map_data = PackedByteArray("AAAAAAIAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAAAAAAAAAAAAAAJAP//AAAAAAAAAAD9/wIAAAAAAAAAAAD9/wEAAAAAAAAAAAD8/wIAAAAAAAAAAAD8/wEAAAAAAAAAAAAKAP3/AAAAAAAAAAAKAP7/AAAAAAAAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAEAAAAAAAAAAAALAAAAAAAAAAAAAAALAP//AAAAAAAAAAALAP7/AAAAAAAAAAALAP3/AAAAAAAAAAA=")
tile_set = SubResource("TileSet_u5opy")

[node name="BaseTileLayer" type="TileMapLayer" parent="WorldRoot/TerrainRenderer"]
unique_name_in_owner = true
tile_map_data = PackedByteArray("AAAAAAIAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAAAAAAAAAAAAAAJAP//AAAAAAAAAAD9/wIAAAAAAAAAAAD9/wEAAAAAAAAAAAD8/wIAAAAAAAAAAAD8/wEAAAAAAAAAAAAKAP3/AAAAAAAAAAAKAP7/AAAAAAAAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAEAAAAAAAAAAAALAAAAAAAAAAAAAAALAP//AAAAAAAAAAALAP7/AAAAAAAAAAALAP3/AAAAAAAAAAA=")
tile_set = SubResource("TileSet_u5opy")

[node name="OreLayer" type="TileMapLayer" parent="WorldRoot/TerrainRenderer"]
unique_name_in_owner = true
tile_map_data = PackedByteArray("AAAAAAIAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAAAAAAAAAAAAAAJAP//AAAAAAAAAAD9/wIAAAAAAAAAAAD9/wEAAAAAAAAAAAD8/wIAAAAAAAAAAAD8/wEAAAAAAAAAAAAKAP3/AAAAAAAAAAAKAP7/AAAAAAAAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAEAAAAAAAAAAAALAAAAAAAAAAAAAAALAP//AAAAAAAAAAALAP7/AAAAAAAAAAALAP3/AAAAAAAAAAA=")
tile_set = SubResource("TileSet_u5opy")

[node name="Player" type="CharacterBody2D" parent="WorldRoot"]
collision_layer = 0
script = ExtResource("4_y36n6")

[node name="Sprite2D" type="Sprite2D" parent="WorldRoot/Player"]
scale = Vector2(8, 8)
texture = SubResource("PlaceholderTexture2D_y36n6")

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldRoot/Player"]
position = Vector2(0, 0.5)
shape = SubResource("RectangleShape2D_j8tme")

[node name="GroundMover" type="Node" parent="WorldRoot/Player" node_paths=PackedStringArray("body")]
unique_name_in_owner = true
script = ExtResource("4_dxrkv")
speed = 100.0
body = NodePath("..")

[node name="Gravity" type="Node" parent="WorldRoot/Player" node_paths=PackedStringArray("body")]
script = ExtResource("5_dxrkv")
body = NodePath("..")

[node name="Jumper" type="Node" parent="WorldRoot/Player" node_paths=PackedStringArray("body")]
unique_name_in_owner = true
script = ExtResource("6_dakft")
jump_velocity = -200.0
body = NodePath("..")

[node name="Health" type="Node" parent="WorldRoot/Player"]
script = ExtResource("8_l8g03")

[node name="Crawler" parent="WorldRoot" instance=ExtResource("9_l8g03")]
position = Vector2(39, -14)

[node name="Camera2D" type="Camera2D" parent="WorldRoot"]
